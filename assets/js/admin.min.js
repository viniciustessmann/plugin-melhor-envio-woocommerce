pluginWebpack([0],[,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";e.a={name:"App"}},function(t,e,n){"use strict";e.a={name:"Home",data:()=>({msg:"Welcome to Your Vue.js Admin App"})}},function(t,e,n){"use strict";var a=n(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.a={name:"Pedidos",data:()=>({status:"all",wpstatus:"all"}),computed:o({},Object(a.mapGetters)("orders",{orders:"getOrders"}),Object(a.mapGetters)("balance",["getBalance"])),methods:o({},Object(a.mapActions)("orders",["retrieveMany","loadMore","addCart","removeCart","cancelCart","payTicket","createTicket","printTicket"]),Object(a.mapActions)("balance",["setBalance"]),{updateInvoice(t,e,n){this.$http.post(`${ajaxurl}?action=insert_invoice_order&id=${t}&number=${e}&key=${n}`).then(t=>{}).catch(t=>{})},buttonCartShow(...t){const[e,n,a,o,r]=t;return"pending"!=r&&(1==e||2==e||(!(3!=e&&4!=e||!n)||(!(3!=e&&4!=e||n||null==a||""==a||null==o||""==o)||e>3&&null!=a&&""!=a&&null!=o&&""!=o)))}}),watch:{status(){this.retrieveMany({status:this.status,wpstatus:this.wpstatus})},wpstatus(){this.retrieveMany({status:this.status,wpstatus:this.wpstatus})}},mounted(){0===Object.keys(this.orders).length&&this.retrieveMany({status:this.status,wpstatus:this.wpstatus}),this.setBalance()}}},function(t,e,n){"use strict";var a=n(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.a={name:"Configuracoes",data:()=>({address:null}),computed:o({},Object(a.mapGetters)("configuration",{addresses:"getAddress"})),methods:o({},Object(a.mapActions)("configuration",["getAddresses","setSelectedAddress"])),watch:{address(t){this.setSelectedAddress(t)}},mounted(){this.getAddresses()}}},function(t,e,n){"use strict";var a=n(3),o=n.n(a);e.a={name:"Token",data:()=>({token:""}),methods:{getToken(){this.$http.get(`${ajaxurl}?action=get_token`).then(t=>{this.token=t.data.token})},saveToken(){let t=new FormData;t.set("token",this.token);this.token;this.token&&this.token.length>0&&o()({url:`${ajaxurl}?action=save_token`,data:t,method:"POST"}).then(t=>{this.$router.push("Configuracoes")}).catch(t=>console.log(t))}},mounted(){this.getToken()}}},,,,,,,,,,,,,,,function(t,e,n){"use strict";var a=u(n(2)),o=u(n(4)),r=u(n(3)),i=u(n(55)),s=u(n(58)),c=u(n(71)),d=u(n(72));function u(t){return t&&t.__esModule?t:{default:t}}a.default.config.productionTip=!1,a.default.use(o.default),a.default.prototype.$http=r.default,new a.default({el:"#vue-admin-app",store:d.default,router:s.default,render:function(t){return t(i.default)}}),(0,c.default)("vue-app")},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),o=n(57),r=!1;var i=function(t){r||n(56)},s=n(1)(a.a,o.a,!1,i,null,null);s.options.__file="assets/src/admin/App.vue",e.default=s.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"vue-backend-app"}},[e("router-view")],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[]};e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(n(2)),o=d(n(6)),r=d(n(59)),i=d(n(62)),s=d(n(65)),c=d(n(68));function d(t){return t&&t.__esModule?t:{default:t}}a.default.use(o.default),e.default=new o.default({routes:[{path:"/",name:"Home",component:r.default},{path:"/pedidos",name:"Pedidos",component:i.default},{path:"/configuracoes",name:"Configuracoes",component:s.default},{path:"/token",name:"Token",component:c.default}]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(18),o=n(61),r=!1;var i=function(t){r||n(60)},s=n(1)(a.a,o.a,!1,i,"data-v-0ce03f2f",null);s.options.__file="assets/src/admin/components/Home.vue",e.default=s.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("span",[this._v(this._s(this.msg))])])};a._withStripped=!0;var o={render:a,staticRenderFns:[]};e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),o=n(64),r=!1;var i=function(t){r||n(63)},s=n(1)(a.a,o.a,!1,i,"data-v-05a7e32e",null);s.options.__file="assets/src/admin/components/Pedidos.vue",e.default=s.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-pedidos"},[n("hr"),t._v(" "),n("h2",[t._v("Meus pedidos")]),t._v(" "),n("label",[t._v("Status Melhor Envio")]),n("br"),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.status=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"all"}},[t._v("Todos")]),t._v(" "),n("option",{attrs:{value:"printed"}},[t._v("Impresso")]),t._v(" "),n("option",{attrs:{value:"paid"}},[t._v("Pago")]),t._v(" "),n("option",{attrs:{value:"pending"}},[t._v("Pendente")]),t._v(" "),n("option",{attrs:{value:"generated"}},[t._v("Gerado")])]),n("br"),t._v(" "),n("label",[t._v("Status WooCommerce")]),n("br"),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.wpstatus,expression:"wpstatus"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.wpstatus=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"all"}},[t._v("Todos")]),t._v(" "),n("option",{attrs:{value:"wc-pending"}},[t._v("Pendente")]),t._v(" "),n("option",{attrs:{value:"wc-processing"}},[t._v("Processando")]),t._v(" "),n("option",{attrs:{value:"wc-on-hold"}},[t._v("Pendente")]),t._v(" "),n("option",{attrs:{value:"wc-completed"}},[t._v("Completo")]),t._v(" "),n("option",{attrs:{value:"wc-cancelled"}},[t._v("Cancelado")]),t._v(" "),n("option",{attrs:{value:"wc-refunded"}},[t._v("Recusado")]),t._v(" "),n("option",{attrs:{value:"wc-failed"}},[t._v("Falhado")])]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h2",[t._v("Saldo: R$"),n("span",[t._v(t._s(t.getBalance))])]),t._v(" "),t.orders.length>0?n("table",[t._m(0),t._v(" "),t._l(t.orders,function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.total))]),t._v(" "),n("td",[n("p",[n("b",[t._v(t._s(e.to.first_name)+" "+t._s(e.to.last_name))])]),t._v(" "),n("p",[t._v(t._s(e.to.email))]),t._v(" "),n("p",[t._v(t._s(e.to.phone))]),t._v(" "),n("p",[t._v(t._s(e.to.address_1)+" "+t._s(e.to.address_2))]),t._v(" "),n("p",[t._v(t._s(e.to.city)+" / "+t._s(e.to.state)+" - "+t._s(e.to.postcode))])]),t._v(" "),n("td",[e.order_id?[n("span",[t._v(t._s(e.order_id))])]:["paid"!=e.status&&"printed"!=e.status&&"generated"!=e.status?n("select",{directives:[{name:"model",rawName:"v-model",value:e.cotation.choose_method,expression:"item.cotation.choose_method"}],on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e.cotation,"choose_method",n.target.multiple?a:a[0])}}},t._l(e.cotation,function(e){return e.id&&e.price?n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                            "+t._s(e.name)+" (R$"+t._s(e.price)+") \n                        ")]):t._e()})):t._e()],t._v(" "),n("br")],2),t._v(" "),n("td",[3==e.cotation.choose_method||4==e.cotation.choose_method?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.non_commercial,expression:"item.non_commercial"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.non_commercial)?t._i(e.non_commercial,null)>-1:e.non_commercial},on:{change:function(n){var a=e.non_commercial,o=n.target,r=!!o.checked;if(Array.isArray(a)){var i=t._i(a,null);o.checked?i<0&&t.$set(e,"non_commercial",a.concat([null])):i>-1&&t.$set(e,"non_commercial",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(e,"non_commercial",r)}}}),t._v(" "),n("label",[t._v("Usar declaração")]),t._v(" "),n("br"),t._v(" "),n("br")]:t._e(),t._v(" "),e.cotation.choose_method>=3&&!e.non_commercial||e.cotation.choose_method>4?[n("label",[t._v("Nota fiscal")]),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.number,expression:"item.invoice.number"}],attrs:{type:"text"},domProps:{value:e.invoice.number},on:{input:function(n){n.target.composing||t.$set(e.invoice,"number",n.target.value)}}}),n("br"),t._v(" "),n("label",[t._v("Chave da nota fiscal")]),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.invoice.key,expression:"item.invoice.key"}],attrs:{type:"text"},domProps:{value:e.invoice.key},on:{input:function(n){n.target.composing||t.$set(e.invoice,"key",n.target.value)}}}),n("br"),t._v(" "),n("br"),t._v(" "),n("button",{on:{click:function(n){t.updateInvoice(e.id,e.invoice.number,e.invoice.key)}}},[t._v("Salvar")])]:t._e()],2),t._v(" "),n("td",[t._v("\n                "+t._s(e.status)+"\n            ")]),t._v(" "),n("td",[t.buttonCartShow(e.cotation.choose_method,e.non_commercial,e.invoice.number,e.invoice.key,e.status)?n("button",{on:{click:function(n){t.addCart({id:e.id,choosen:e.cotation.choose_method,non_commercial:e.non_commercial})}}},[t._v("Add cart")]):t._e(),t._v(" "),e.status&&e.order_id&&e.id&&"paid"!=e.status?n("button",{on:{click:function(n){t.removeCart({id:e.id,order_id:e.order_id})}}},[t._v("Remove cart")]):t._e(),t._v(" "),"paid"==e.status&&e.order_id&&e.id?n("button",{on:{click:function(n){t.cancelCart({id:e.id,order_id:e.order_id})}}},[t._v("Cancel")]):t._e(),t._v(" "),e.status&&e.order_id&&e.id&&"pending"==e.status?n("button",{on:{click:function(n){t.payTicket({id:e.id,order_id:e.order_id})}}},[t._v("Pay")]):t._e(),t._v(" "),e.status&&"paid"==e.status&&e.order_id?n("button",{on:{click:function(n){t.createTicket({id:e.id,order_id:e.order_id})}}},[t._v("Create ticket")]):t._e(),t._v(" "),!e.status||"generated"!=e.status&&"printed"!=e.status?t._e():n("button",{on:{click:function(n){t.printTicket({id:e.id,order_id:e.order_id})}}},[t._v("Print ticket")])])])})],2):n("div",[n("p",[t._v("Nenhum registro encontrado")])]),t._v(" "),n("button",{on:{click:function(e){t.loadMore({status:t.status,wpstatus:t.wpstatus})}}},[t._v("Carregar mais")])])};a._withStripped=!0;var o={render:a,staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("#")]),t._v(" "),n("th",[t._v("Valor pedido")]),t._v(" "),n("th",[t._v("Cliente")]),t._v(" "),n("th",[t._v("Cotação")]),t._v(" "),n("th",[t._v("Documentos")]),t._v(" "),n("th",[t._v("Status")]),t._v(" "),n("th",[t._v("Ações")])])}]};e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(20),o=n(67),r=!1;var i=function(t){r||n(66)},s=n(1)(a.a,o.a,!1,i,"data-v-260cb748",null);s.options.__file="assets/src/admin/components/Configuracoes.vue",e.default=s.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-configuracoes"},[n("h1",[t._v("Minhas configurações")]),t._v(" "),n("label",[t._v("Endereços")]),n("br"),t._v(" "),t._l(t.addresses,function(e){return n("div",{key:e.id,attrs:{value:e.id}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"radio",id:e.id},domProps:{value:e.id,checked:t._q(t.address,e.id)},on:{change:function(n){t.address=e.id}}}),t._v(" "),n("label",{attrs:{for:e.id}},[t._v(t._s(e.label))]),t._v(" "),n("br")])})],2)};a._withStripped=!0;var o={render:a,staticRenderFns:[]};e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),o=n(70),r=!1;var i=function(t){r||n(69)},s=n(1)(a.a,o.a,!1,i,"data-v-1bf58fd9",null);s.options.__file="assets/src/admin/components/Token.vue",e.default=s.exports},function(t,e){},function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-token"},[n("h1",[t._v("Meu Token")]),t._v(" "),n("span",[t._v("Insira o token gerado na Melhor Envio")]),t._v(" "),n("p",{staticStyle:{"white-space":"pre-line"}}),t._v(" "),n("br"),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],attrs:{placeholder:"Token"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"button is-danger",on:{click:function(e){t.saveToken()}}},[t._v("Salvar")])])};a._withStripped=!0;var o={render:a,staticRenderFns:[]};e.a=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=jQuery,n=e("#toplevel_page_"+t),a=window.location.href,o=a.substr(a.indexOf("admin.php"));n.on("click","a",function(){var t=e(this);e("ul.wp-submenu li",n).removeClass("current"),t.hasClass("wp-has-submenu")?e("li.wp-first-item",n).addClass("current"):t.parents("li").addClass("current")}),e("ul.wp-submenu a",n).each(function(t,n){e(n).attr("href")!==o||e(n).parent().addClass("current")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c(n(2)),o=c(n(4)),r=c(n(73)),i=c(n(74)),s=c(n(75));function c(t){return t&&t.__esModule?t:{default:t}}a.default.use(o.default);var d=new o.default.Store({modules:{orders:r.default,balance:i.default,configuration:s.default}});e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(3));var o={namespaced:!0,state:{orders:[],filters:{limit:10,skip:10,status:"all",wpstatus:"all"}},mutations:{retrieveMany:function(t,e){t.orders=e},loadMore:function(t,e){t.filters.skip+=e.length,e.map(function(e){t.orders.push(e)})},removeCart:function(t,e){var n=void 0;t.orders.find(function(t,a){t.id===e&&(n={position:a,content:JSON.parse(JSON.stringify(t))})}),delete n.content.status,delete n.content.order_id,t.orders.splice(n.position,1,n.content)},cancelCart:function(t,e){var n=void 0;t.orders.find(function(t,a){t.id===e&&(n={position:a,content:JSON.parse(JSON.stringify(t))})}),n.content.status="pending",t.orders.splice(n.position,1,n.content)},addCart:function(t,e){var n=void 0;t.orders.find(function(t,a){t.id===e.id&&(n={position:a,content:JSON.parse(JSON.stringify(t))})}),n.content.status="pending",n.content.order_id=e.order_id,t.orders.splice(n.position,1,n.content)},payTicket:function(t,e){var n=void 0;t.orders.find(function(t,a){t.id===e&&(n={position:a,content:JSON.parse(JSON.stringify(t))})}),n.content.status="paid",t.orders.splice(n.position,1,n.content)},createTicket:function(t,e){var n=void 0;t.orders.find(function(t,a){t.id===e&&(n={position:a,content:JSON.parse(JSON.stringify(t))})}),n.content.status="generated",t.orders.splice(n.position,1,n.content)},printTicket:function(t,e){var n=void 0;t.orders.find(function(t,a){t.id===e&&(n={position:a,content:JSON.parse(JSON.stringify(t))})}),n.content.status="printed",t.orders.splice(n.position,1,n.content)}},getters:{getOrders:function(t){return t.orders}},actions:{retrieveMany:function(t,e){var n=t.commit,o={action:"get_orders",limit:10,skip:0,status:e.status?e.status:null,wpstatus:e.wpstatus?e.wpstatus:null};a.default.get(""+ajaxurl,{params:o}).then(function(t){t&&200===t.status&&n("retrieveMany",t.data)})},loadMore:function(t,e){var n=t.commit,o=t.state;o.filters.status=e.status,o.filters.wpstatus=e.wpstatus,a.default.get(""+ajaxurl,{params:Object.assign({action:"get_orders"},o.filters)}).then(function(t){t&&200===t.status&&n("loadMore",t.data)})},addCart:function(t,e){var n=t.commit;if(!e)return!1;e.id&&e.choosen&&a.default.post(ajaxurl+"?action=add_order&order_id="+e.id+"&choosen="+e.choosen+"&non_commercial="+e.non_commercial,e).then(function(t){n("addCart",{id:e.id,order_id:t.data.data.id})})},removeCart:function(t,e){a.default.post(ajaxurl+"?action=remove_order&id="+e.id+"&order_id="+e.order_id,e).then(function(n){t.commit("removeCart",e.id),t.dispatch("balance/setBalance",null,{root:!0})})},cancelCart:function(t,e){a.default.post(ajaxurl+"?action=cancel_order&id="+e.id+"&order_id="+e.order_id,e).then(function(n){t.commit("cancelCart",e.id),t.dispatch("balance/setBalance",null,{root:!0})})},payTicket:function(t,e){a.default.post(ajaxurl+"?action=pay_ticket&id="+e.id+"&order_id="+e.order_id,e).then(function(n){t.commit("payTicket",e.id),t.dispatch("balance/setBalance",null,{root:!0})})},createTicket:function(t,e){var n=t.commit;a.default.post(ajaxurl+"?action=create_ticket&id="+e.id+"&order_id="+e.order_id,e).then(function(t){n("createTicket",e.id)})},printTicket:function(t,e){var n=t.commit;a.default.post(ajaxurl+"?action=print_ticket&id="+e.id+"&order_id="+e.order_id,e).then(function(t){n("printTicket",e.id),console.log(t),window.open(t.data.data.url,"_blank")})}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(3));var o={namespaced:!0,state:{balance:null},mutations:{setBalance:function(t,e){t.balance=e}},getters:{getBalance:function(t){return t.balance}},actions:{setBalance:function(t,e){var n=t.commit;a.default.get(ajaxurl+"?action=get_balance",e).then(function(t){n("setBalance",t.data.balance)})}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(n(3));var o={namespaced:!0,state:{addresses:[]},mutations:{setAddress:function(t,e){t.addresses=e}},getters:{getAddress:function(t){return t.addresses}},actions:{getAddresses:function(t,e){var n=t.commit;a.default.get(""+ajaxurl,{params:{action:"get_addresses"}}).then(function(t){t&&200===t.status&&n("setAddress",t.data.address)})},setSelectedAddress:function(t,e){t.commit;console.log(e)}}};e.default=o}],[36]);